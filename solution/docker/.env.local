# ═════════════════════════════════════════════════════════════════
# Django-CFG Docker Environment Configuration
# ═════════════════════════════════════════════════════════════════
# IMPORTANT: This file contains SECRETS - never commit to git!
# Add to .gitignore if not already present
# ═════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────
# PostgreSQL Configuration (for Docker Compose)
# ─────────────────────────────────────────────────────────────────
POSTGRES_DB=djangocfg
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres_dev_password_change_in_production

# ─────────────────────────────────────────────────────────────────
# Database Configuration (pydantic-settings nested format)
# ─────────────────────────────────────────────────────────────────
# NOTE: host.docker.internal allows Docker containers to connect to localhost PostgreSQL on macOS
# If using SQLite locally, change this to: sqlite:///db/default.sqlite3
DATABASE__URL=postgresql://postgres:postgres_dev_password_change_in_production@host.docker.internal:5432/djangocfg

# ─────────────────────────────────────────────────────────────────
# Django Core Configuration
# ─────────────────────────────────────────────────────────────────
SECRET_KEY=django-insecure-dev-key-change-in-production-min-50-chars-required
DEBUG=False

# Legacy variables (for backward compatibility)
DJANGO_SECRET_KEY=django-insecure-dev-key-change-in-production-min-50-chars-required
DJANGO_DEBUG=False
DJANGO_CREATE_ADMIN=true
JWT_SECRET_KEY=jwt-secret-key-change-in-production-min-32-chars

# ─────────────────────────────────────────────────────────────────
# Environment Mode
# ─────────────────────────────────────────────────────────────────
IS_PROD=true
IS_DEV=false
IS_TEST=false

# ─────────────────────────────────────────────────────────────────
# Application Configuration (LOCALHOST URLs for local development)
# ─────────────────────────────────────────────────────────────────
APP__NAME=Django CFG
APP__DOMAIN=localhost
APP__API_URL=http://localhost:7301
APP__SITE_URL=http://localhost:7310

# ─────────────────────────────────────────────────────────────────
# Email Configuration
# ─────────────────────────────────────────────────────────────────
EMAIL__BACKEND=smtp
EMAIL__HOST=mail.example.com
EMAIL__PORT=465
EMAIL__USERNAME=your-email@example.com
EMAIL__PASSWORD=your-email-password-here
EMAIL__USE_TLS=false
EMAIL__USE_SSL=true
EMAIL__DEFAULT_FROM=your-email@example.com

# ─────────────────────────────────────────────────────────────────
# Telegram Configuration
# ─────────────────────────────────────────────────────────────────
TELEGRAM__BOT_TOKEN=your-telegram-bot-token-here
TELEGRAM__CHAT_ID=your-telegram-chat-id-here

# ─────────────────────────────────────────────────────────────────
# Redis Configuration
# ─────────────────────────────────────────────────────────────────
REDIS_URL=redis://redis:6379/0

# ─────────────────────────────────────────────────────────────────
# Django-RQ Configuration (Background Tasks)
# ─────────────────────────────────────────────────────────────────
# RQ uses Django's REDIS_URL setting (configured above)
# Dashboard: http://localhost:7301/cfg/admin/ → RQ tab
# Workers: docker-compose-local-services.yml or run manually

# ─────────────────────────────────────────────────────────────────
# Centrifugo Server Configuration (used by Centrifugo Docker container)
# ─────────────────────────────────────────────────────────────────
CENTRIFUGO_API_KEY=centrifugo-api-key-change-in-production-min-32-chars
# IMPORTANT: CENTRIFUGO_TOKEN_HMAC_SECRET must match CENTRIFUGO__CENTRIFUGO_TOKEN_HMAC_SECRET
CENTRIFUGO_TOKEN_HMAC_SECRET=django-secret-key-change-in-production-at-least-32-chars
CENTRIFUGO_ADMIN_PASSWORD=admin
CENTRIFUGO_ADMIN_SECRET=admin-secret-change-in-production
CENTRIFUGO_LOG_LEVEL=info

# ─────────────────────────────────────────────────────────────────
# Django-CFG Centrifugo Client Configuration (used by Django application)
# ─────────────────────────────────────────────────────────────────
# Nested format with CENTRIFUGO__ prefix for Pydantic BaseSettings
CENTRIFUGO__ENABLED=true
CENTRIFUGO__WRAPPER_URL=http://localhost:7301
CENTRIFUGO__WRAPPER_API_KEY=wrapper-api-key-change-in-production
CENTRIFUGO__CENTRIFUGO_URL=ws://localhost:8120/connection/websocket
CENTRIFUGO__CENTRIFUGO_API_URL=http://centrifugo:8000/api
CENTRIFUGO__CENTRIFUGO_API_KEY=centrifugo-api-key-change-in-production-min-32-chars
# IMPORTANT: Must match CENTRIFUGO_TOKEN_HMAC_SECRET above for JWT token validation
CENTRIFUGO__CENTRIFUGO_TOKEN_HMAC_SECRET=django-secret-key-change-in-production-at-least-32-chars
CENTRIFUGO__DEFAULT_ACK_TIMEOUT=30
CENTRIFUGO__LOG_LEVEL=INFO
CENTRIFUGO__LOG_ALL_CALLS=true
CENTRIFUGO__LOG_ONLY_WITH_ACK=false

# ─────────────────────────────────────────────────────────────────
# AI API Keys (pydantic-settings nested format)
# ─────────────────────────────────────────────────────────────────
API_KEYS__OPENROUTER=your-openrouter-api-key-here
API_KEYS__OPENAI=your-openai-api-key-here

# Legacy format (for Docker Compose backward compatibility)
ANTHROPIC_API_KEY=your-anthropic-api-key-here
OPENAI_API_KEY=your-openai-api-key-here

# ─────────────────────────────────────────────────────────────────
# Payments API Keys
# ─────────────────────────────────────────────────────────────────
PAYMENTS_API_KEYS__NOWPAYMENTS_API_KEY=your-nowpayments-api-key-here
PAYMENTS_API_KEYS__NOWPAYMENTS_IPN_SECRET=your-nowpayments-ipn-secret-here
PAYMENTS_API_KEYS__NOWPAYMENTS_SANDBOX_MODE=true

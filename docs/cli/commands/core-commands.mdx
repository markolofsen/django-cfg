---
title: Core Commands
description: Django-CFG CLI core commands commands. Command-line interface for core commands with examples, options, and production workflows.
sidebar_label: Core Commands
sidebar_position: 2
keywords:
  - django-cfg core commands
  - django-cfg command core commands
  - cli core commands
---

# Core Management Commands

Essential commands for Django-CFG project setup, configuration management, and validation.

## Project Setup

### `django-cfg create-project`

Creates a new Django project by downloading the latest template from GitHub.

```bash
django-cfg create-project PROJECT_NAME [OPTIONS]
```

| Argument/Option | Type | Default | Description |
|-----------------|------|---------|-------------|
| `PROJECT_NAME` | `str` | *required* | Name for the project directory (letters, numbers, underscores, hyphens) |
| `--path, -p` | `PATH` | current dir | Parent directory where to create the project |
| `--force, -f` | `flag` | `False` | Overwrite existing directory if it exists |

**Examples:**

```bash
# Basic project creation
django-cfg create-project my_awesome_app

# Create in specific directory
django-cfg create-project my_saas --path /projects

# Force overwrite existing directory
django-cfg create-project my_app --force
```

**What it creates:**

```
my_awesome_app/
â”œâ”€â”€ docker/                    # Docker deployment
â”‚   â”œâ”€â”€ docker-compose-local.yaml
â”‚   â”œâ”€â”€ docker-compose-production.yaml
â”‚   â””â”€â”€ services/
â””â”€â”€ projects/
    â”œâ”€â”€ django/               # Django backend
    â”‚   â”œâ”€â”€ api/
    â”‚   â”œâ”€â”€ apps/
    â”‚   â”œâ”€â”€ core/
    â”‚   â”œâ”€â”€ manage.py
    â”‚   â””â”€â”€ pyproject.toml
    â”œâ”€â”€ frontend/             # Next.js frontend
    â”‚   â”œâ”€â”€ apps/
    â”‚   â””â”€â”€ packages/
    â””â”€â”€ electron/             # Desktop app (optional)
```

**Features included:**
- âœ… AI-native documentation (MCP server)
- âœ… Type-safe configuration with Pydantic v2
- âœ… Modern Unfold admin interface
- âœ… API documentation with Spectacular
- âœ… JWT authentication system
- âœ… Multi-database support
- âœ… Background task processing (django-rq)
- âœ… Docker deployment ready
- âœ… Next.js admin frontend
- âœ… Electron desktop app template

---

### `django-cfg info`

Shows Django-CFG installation and system information.

```bash
django-cfg info [OPTIONS]
```

| Option | Type | Description |
|--------|------|-------------|
| `--verbose, -v` | `flag` | Show detailed information including paths |

**Examples:**

```bash
# Basic information
django-cfg info

# Detailed information with paths
django-cfg info --verbose
```

**Output includes:**
- Django-CFG version and Python version
- ğŸ“‹ Project template availability and status
- Core dependencies (Django, Pydantic, Click)
- ğŸŒ Service integrations (OpenAI)
- Admin & UI packages (Unfold, Constance)
- ğŸ“Š API & documentation tools (DRF, Spectacular)
- Background processing (Django-RQ, Redis)
- Development tools (Ngrok)

---

## Configuration Management

### `validate_config`

Validates Django-CFG configuration files and settings.

```bash
python manage.py validate_config [OPTIONS]
```

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `--show-details` | `flag` | `False` | Show detailed validation results |
| `--check-connections` | `flag` | `False` | Test database and service connections |
| `--format` | `json\|yaml\|table` | `table` | Output format |

**Examples:**

```bash
# Basic validation
python manage.py validate_config

# Detailed validation with connection tests
python manage.py validate_config --show-details --check-connections

# JSON output for automation
python manage.py validate_config --format json
```

**Validates:**
- âœ… Pydantic model validation
- âœ… Database connection strings
- âœ… Service API keys and credentials
- âœ… File paths and permissions
- âœ… Environment variable resolution

---

### `show_config`

Displays current Django-CFG configuration.

```bash
python manage.py show_config [OPTIONS]
```

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `--format` | `json\|yaml\|table` | `yaml` | Output format |
| `--include-secrets` | `flag` | `False` | Include sensitive values (use with caution) |
| `--section` | `TEXT` | - | Show specific configuration section |

**Examples:**

```bash
# Show all configuration
python manage.py show_config

# JSON format for automation
python manage.py show_config --format json

# Show only database configuration
python manage.py show_config --section database

# Include sensitive values (be careful!)
python manage.py show_config --include-secrets
```

---

### `check_settings`

Comprehensive validation and debugging for Django-CFG configuration.

```bash
python manage.py check_settings [OPTIONS]
```

| Option | Type | Description |
|--------|------|-------------|
| `--email-test` | `flag` | Test email configuration |
| `--verbose` | `flag` | Verbose output with detailed diagnostics |

**Examples:**

```bash
# Check all settings
python manage.py check_settings

# Test email configuration
python manage.py check_settings --email-test

# Verbose output with detailed diagnostics
python manage.py check_settings --verbose
```

**Checks:**
- Configuration validity
- Database connections
- Email settings
- Service integrations
- File permissions
- Environment variables

---

## API Endpoints Testing

### `check_endpoints`

Check health and availability of all registered API endpoints.

```bash
python manage.py check_endpoints [OPTIONS]
```

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `--include-unnamed` | `flag` | `False` | Include unnamed URL patterns in the check |
| `--timeout` | `INTEGER` | `5` | Request timeout in seconds |
| `--json` | `flag` | `False` | Output results as JSON |
| `--url` | `TEXT` | - | Check specific endpoint by URL name |
| `--no-auth` | `flag` | `False` | Disable automatic JWT authentication retry |

**Examples:**

```bash
# Check all endpoints (with auto-auth for protected endpoints)
python manage.py check_endpoints

# Include unnamed URL patterns
python manage.py check_endpoints --include-unnamed

# Custom timeout (10 seconds)
python manage.py check_endpoints --timeout 10

# Disable auto-auth (show 401/403 as-is)
python manage.py check_endpoints --no-auth

# JSON output for automation/CI
python manage.py check_endpoints --json

# Check specific endpoint by name
python manage.py check_endpoints --url endpoints_status
```

**Output:**

```bash
âŒ Overall Status: UNHEALTHY

ğŸ“Š Summary:
  Total endpoints: 399
  âœ… Healthy: 0
  âš ï¸  Warnings: 0
  âŒ Unhealthy: 69
  âŒ Errors: 90
  â­ï¸  Skipped: 240

ğŸ”— Endpoints:
  âœ… endpoints_status
     URL: /cfg/api/endpoints/
     Status: healthy
     Response time: 0.123s

  âœ… api_users_list
     URL: /api/users/
     Status: healthy
     Response time: 0.245s
     ğŸ” Required JWT authentication

  âŒ api_payments_list
     URL: /api/payments/
     Status: unhealthy
     Error: Database connection failed
```

**JSON Output:**

```json
{
  "status": "unhealthy",
  "timestamp": "2025-10-05T18:00:20.111738+00:00",
  "total_endpoints": 399,
  "healthy": 0,
  "unhealthy": 69,
  "warnings": 0,
  "errors": 90,
  "skipped": 240,
  "endpoints": [
    {
      "url": "/cfg/api/endpoints/",
      "url_name": "endpoints_status",
      "namespace": "",
      "group": "cfg/api/endpoints",
      "view": "EndpointsStatusView",
      "status": "healthy",
      "status_code": 200,
      "response_time_ms": 0.23,
      "is_healthy": true,
      "last_checked": "2025-10-05T18:00:20.111738+00:00",
      "required_auth": false
    },
    {
      "url": "/api/users/",
      "url_name": "api_users_list",
      "namespace": "",
      "group": "api/users",
      "view": "UserViewSet",
      "status": "healthy",
      "status_code": 200,
      "response_time_ms": 0.45,
      "is_healthy": true,
      "last_checked": "2025-10-05T18:00:20.211738+00:00",
      "required_auth": true
    }
  ]
}
```

**What it checks:**

- âœ… All registered URL patterns
- âœ… HTTP status codes (200, 401, 403, etc.)
- âœ… Response times in milliseconds
- âœ… Endpoint availability
- âœ… Error detection and reporting
- âœ… Grouping by URL namespace

**Excluded endpoints:**

- âŒ Admin endpoints (`/admin/`)
- âŒ Static/media files (`/static/`, `/media/`)
- âŒ Health check endpoints (`/cfg/health/`)
- âŒ **Schema documentation** (`/schema/`)
- âŒ Django debug toolbar (`/__debug__/`, `/__reload__/`)

**Status Categories:**

| Status | Description | HTTP Codes |
|--------|-------------|------------|
| **Healthy** | Endpoint working correctly | 200-299, 301-308, 401, 403, 405 |
| **Warning** | Might be OK (no data) | 404 |
| **Unhealthy** | Endpoint has issues | 400, 500+ |
| **Error** | Exception occurred | Connection errors, timeouts |
| **Skipped** | Requires parameters | URLs with `<pk>`, `<id>` |

**Use Cases:**

**Development:**
```bash
# Quick check during development
python manage.py check_endpoints
```

**CI/CD Pipeline:**
```bash
# Automated testing in GitHub Actions
python manage.py check_endpoints --json > endpoints-report.json
```

**Production Monitoring:**
```bash
# Health check with custom timeout
python manage.py check_endpoints --timeout 10
```

**Debugging:**
```bash
# Check specific problematic endpoint
python manage.py check_endpoints --url api_users_list
```

**Features:**
- âœ… Auto-discovers all registered endpoints
- âœ… **Smart JWT Auto-Authentication** - Automatically retries protected endpoints with JWT token
- âœ… Creates test user `endpoint_test_user` once and reuses token
- âœ… Respects Django Test Client
- âœ… No ALLOWED_HOSTS issues (uses localhost)
- âœ… **Excludes schema documentation** (prevents rate limiting issues)
- âœ… Excludes recursive endpoints (health checks)
- âœ… Colored console output with emojis
- âœ… JSON export for automation
- âœ… Response time measurement
- âœ… Indicates which endpoints required authentication (ğŸ”)

---

## Database Operations

### `migrate_all`

Migrate all databases based on django-cfg configuration.

```bash
python manage.py migrate_all [OPTIONS]
```

| Option | Type | Description |
|--------|------|-------------|
| `--dry-run` | `flag` | Show what would be migrated without executing |
| `--skip-makemigrations` | `flag` | Skip makemigrations step |

**Examples:**

```bash
# Migrate all databases
python manage.py migrate_all

# Dry run to see what would happen
python manage.py migrate_all --dry-run

# Skip makemigrations
python manage.py migrate_all --skip-makemigrations
```

**Features:**
- Auto-detects all databases from django-cfg configuration
- Creates migrations for all apps
- Migrates each database based on routing configuration
- Migrates constance separately
- Handles app-specific routing

---

### `migrator`

Interactive database migration tool with automatic database detection and routing support.

```bash
python manage.py migrator [OPTIONS]
```

| Option | Type | Description |
|--------|------|-------------|
| `--auto` | `flag` | Automatic migration mode (no prompts, migrates all databases) |
| `--database` | `TEXT` | Target specific database only |
| `--app` | `TEXT` | Target specific app only |

**Examples:**

```bash
# Interactive mode (default) - shows menu
python manage.py migrator

# Auto-migrate all databases (no prompts)
python manage.py migrator --auto

# Migrate specific database
python manage.py migrator --database blog_db

# Migrate specific app across all databases
python manage.py migrator --app blog

# Migrate specific app on specific database
python manage.py migrator --database blog_db --app blog
```

**Interactive Mode:**

When run without `--auto`, shows an interactive menu:

```
ğŸ—„ï¸  Django Database Migrator
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ Current Configuration:
   Databases: default, blog_db, shop_db
   Apps: accounts, blog, shop, profiles

What would you like to do?
> Migrate all databases (recommended)
  Migrate specific database
  Show database status
  View configuration info
  Exit
```

**Auto Mode (`--auto`):**

Runs automatic migration without prompts:

1. **Creates migrations** - Runs `makemigrations` for all apps
2. **Migrates default database** - Migrates main database first
3. **Migrates routed databases** - Migrates blog_db, shop_db based on routing rules
4. **Migrates constance** - Always migrates constance app (required by django-cfg)

**Example Output:**

```bash
$ python manage.py migrator --auto

ğŸš€ Running automatic migration...

ğŸ“¦ Creating migrations for all apps...
âœ… Migrations created successfully

ğŸ”„ Migrating database: default
  ğŸ“¦ Migrating all apps...
  âœ… Migrations completed for default

ğŸ”„ Migrating database: blog_db
  ğŸ“¦ Migrating app: blog
  âœ… Migrations completed for blog_db

ğŸ”„ Migrating database: shop_db
  ğŸ“¦ Migrating app: shop
  âœ… Migrations completed for shop_db

âœ… Constance migrated successfully
```

**How Routing Works:**

The migrator respects `DATABASE_ROUTING_RULES` from settings:

```python
DATABASE_ROUTING_RULES = {
    'blog': 'blog_db',
    'shop': 'shop_db',
}
```

- Apps listed in routing rules â†’ migrate on their target database only
- Apps NOT listed â†’ migrate on default database
- Constance app â†’ always migrates on default database

**Comparison with migrate_all:**

| Feature | `migrator --auto` | `migrate_all` |
|---------|-------------------|---------------|
| Interactive menu | âœ… Yes (without --auto) | âŒ No |
| Auto makemigrations | âœ… Yes | âœ… Yes (unless --skip-makemigrations) |
| Respects routing rules | âœ… Yes | âœ… Yes |
| Specific database | âœ… --database flag | âŒ Migrates all |
| Specific app | âœ… --app flag | âŒ Migrates all apps |
| Constance handling | âœ… Automatic | âœ… Automatic |
| Best for | Development, targeted migrations | Production, CI/CD |

**Use Cases:**

**Development:**
```bash
# Quick migration during development
python manage.py migrator --auto
```

**Testing specific database:**
```bash
# Test blog database migrations only
python manage.py migrator --database blog_db
```

**Troubleshooting:**
```bash
# Interactive mode to explore database status
python manage.py migrator
# Select "Show database status" from menu
```

**CI/CD Pipeline:**
```bash
# Production deployment - use migrate_all
python manage.py migrate_all
```

**Features:**
- âœ… Automatic database discovery from settings
- âœ… Respects DATABASE_ROUTING_RULES
- âœ… Interactive menu with questionary
- âœ… Progress indicators with emojis
- âœ… Database status checking
- âœ… Configuration info display
- âœ… Constance app auto-migration

---

## Development Server

### `runserver` (Enhanced)

Enhanced development server with better output and options.

```bash
poetry run cli runserver [OPTIONS]
```

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `--port` | `INTEGER` | `8000` | Port number |
| `--host` | `TEXT` | `127.0.0.1` | Host address |
| `--debug` | `flag` | `False` | Enable debug mode |
| `--no-reload` | `flag` | `False` | Disable auto-reload |

**Examples:**

```bash
# Basic server
poetry run cli runserver

# Custom port and host
poetry run cli runserver --port 3000 --host 0.0.0.0

# Production-like settings
poetry run cli runserver --no-reload --port 8080
```

**Features:**
- Rich colored output
- ğŸ“Š Better error formatting
- Faster startup time
- Smart configuration detection

---

## User Management

### `superuser` (Enhanced)

Enhanced superuser creation with better UX.

```bash
poetry run cli superuser [OPTIONS]
```

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `--email` | `TEXT` | - | Email address for superuser |
| `--username` | `TEXT` | email | Username (optional, defaults to email) |
| `--interactive` | `flag` | `True` | Interactive mode |
| `--no-input` | `flag` | `False` | Non-interactive mode |

**Examples:**

```bash
# Interactive superuser creation
poetry run cli superuser

# Pre-fill email
poetry run cli superuser --email admin@example.com

# Non-interactive (password will be prompted)
poetry run cli superuser --email admin@test.com --no-input
```

---

### `create_token`

Create API tokens for authentication.

```bash
python manage.py create_token USERNAME [OPTIONS]
```

| Argument/Option | Type | Default | Description |
|-----------------|------|---------|-------------|
| `USERNAME` | `str` | *required* | Username to create token for |
| `--name` | `TEXT` | - | Token name/description |
| `--expires-in` | `INTEGER` | - | Expiration in days |

**Examples:**

```bash
# Create token for user
python manage.py create_token admin

# Create token with specific name
python manage.py create_token admin --name "API Access Token"

# Create token with expiration (30 days)
python manage.py create_token admin --expires-in 30
```

---

## URL Management

### `show_urls` (Enhanced)

Lists all URL patterns in the project.

```bash
poetry run cli show-urls [OPTIONS]
```

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `--format` | `table\|json\|list` | `table` | Output format |
| `--include-admin` | `flag` | `False` | Include admin URLs |
| `--pattern` | `TEXT` | - | Filter URLs by pattern |

**Examples:**

```bash
# Show all URLs in table format
poetry run cli show-urls

# JSON format for automation
poetry run cli show-urls --format json

# Filter API URLs only
poetry run cli show-urls --pattern "api/"

# Include admin URLs
poetry run cli show-urls --include-admin
```

---

### `list_urls`

List all URL patterns in the project.

```bash
python manage.py list_urls [OPTIONS]
```

| Option | Type | Description |
|--------|------|-------------|
| `--pattern` | `TEXT` | Filter by pattern |
| `--names-only` | `flag` | Show URL names only |
| `--output` | `FILE` | Export to file |

**Examples:**

```bash
# List all URLs
python manage.py list_urls

# Filter by pattern
python manage.py list_urls --pattern api

# Show URL names only
python manage.py list_urls --names-only

# Export to file
python manage.py list_urls --output urls.txt
```

---

## Utility Commands

### `clear_constance`

Clear Constance dynamic settings cache.

```bash
python manage.py clear_constance [OPTIONS]
```

| Option | Type | Description |
|--------|------|-------------|
| `--keys` | `TEXT` | Clear specific keys (comma-separated) |
| `--dry-run` | `flag` | Dry run to see what would be cleared |

**Examples:**

```bash
# Clear all constance cache
python manage.py clear_constance

# Clear specific keys
python manage.py clear_constance --keys KEY1,KEY2

# Dry run to see what would be cleared
python manage.py clear_constance --dry-run
```

---

## Tips

- Use `validate_config --check-connections` before deployment
- Use `migrate_all --dry-run` to preview migrations
- Use `create_token --expires-in 90` for limited lifetime tokens

## Workflow Examples

```bash
# Pre-deployment checklist
python manage.py validate_config --check-connections && \
python manage.py check_settings --verbose && \
python manage.py migrate_all --dry-run
```

## See Also

- [Quick Reference](../quick-reference)
- [AI Agents Commands](../ai-agents)
- [Background Tasks](/docs/features/integrations/django-rq/overview)
- [Development Commands](../development)
